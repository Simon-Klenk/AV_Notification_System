<!DOCTYPE html><html lang="de"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>AV Benachrichtigungssystem – Update</title><style>body{font-family:sans-serif;background-color:#f9fafb;min-height:100vh;margin:0;display:flex;flex-direction:column;font-weight:300}nav{background-color:#2d2d2d;padding:1rem;box-shadow:0 4px 6px -1px rgba(0,0,0,.1)}.nav-list{max-width:64rem;margin:0 auto;display:flex;flex-wrap:wrap;justify-content:center;align-items:center;gap:1.5rem}.nav-link{color:#d1d5db;font-size:1.125rem;font-weight:400;padding:.5rem;border-radius:.375rem;text-decoration:none;white-space:nowrap;transition:color .2s,background-color .2s}.nav-link:hover{color:#fff;background-color:#4b5563}.nav-link.active{color:#fff;background-color:#4b5563}main{flex-grow:1;padding:2rem 1rem;display:flex;justify-content:center}.message-box{background-color:#fff;padding:1.5rem;border-radius:.75rem;box-shadow:0 10px 15px -3px rgba(0,0,0,.1);width:100%;max-width:28rem;text-align:center}.title{font-size:1.5rem;font-weight:700;color:#22c55e;margin-bottom:1.5rem}.update-button-container{display:flex;flex-direction:column;gap:1rem;margin:0 auto}.update-button{width:100%;padding:1rem 2rem;font-size:1.1rem;font-weight:600;background-color:#595959;color:#fff;border-radius:.75rem;box-shadow:0 4px 6px -1px rgba(0,0,0,.1);cursor:pointer;border:none}.message-success{color:#22c55e;font-weight:600;margin-top:1rem}.hidden{display:none!important}@media (max-width:640px){.nav-list{flex-direction:column;gap:.5rem}.nav-link{width:90%;text-align:center}}</style></head><body><nav><div class="nav-list"><a href="/?page=pickup" class="nav-link">Kind abholen</a><a href="/?page=emergency" class="nav-link">Notfall - Hilfe anfordern</a><a href="/?page=update" class="nav-link active">Update</a><a href="/?page=status" class="nav-link">Status</a></div></nav><main><div class="message-box"><h2 class="title">System-Update</h2><form class="update-button-container" id="updateForm"><button type="button" class="update-button" id="triggerUpdateButton">Update starten</button><p id="status-message" class="message-success hidden">Update erfolgreich ausgelöst!</p></form></div></main><script>document.getElementById('triggerUpdateButton').addEventListener('click',e=>{if(confirm('Sicher, dass Sie das Update auslösen wollen?')){triggerUpdate()}});async function triggerUpdate(){const statusMessage=document.getElementById('status-message');const updateButton=document.getElementById('triggerUpdateButton');try{updateButton.disabled=true;const response=await fetch('/update',{method:'POST'});if(!response.ok)throw new Error('Serverfehler');console.log("Update-Event wurde ausgelöst und an den Server gesendet.");statusMessage.textContent='Update erfolgreich ausgelöst!';statusMessage.classList.remove('hidden');}catch(error){console.error("Fehler beim Update-Trigger:",error);statusMessage.textContent='Fehler beim Auslösen des Updates!';statusMessage.classList.add('message-error');statusMessage.classList.remove('hidden');}finally{setTimeout(()=>{statusMessage.classList.add('hidden');statusMessage.classList.remove('message-error');updateButton.disabled=false},5000)}}</script></body></html>